{% extends "task_management/worker_templates/worker_base.html" %}
{% load static %}

{% block content %}
    <div class="kanban-conteiner">
        <ul class="task-column-list">
            <!-- To Be Done Column -->
            <li class="task-column to-do-column">
                <span class="header">
                    <h1>Сделать</h1>
                </span>
                <!-- To Be Done Content -->
                <div id="to-do-content">
                    <ul id="to-do-list"></ul>
                </div>
                <!-- Add Button Group -->
                {% comment %} <div class="add-btn-group">
                    <div class="add-btn" onclick="showInputBox(0)">
                        <span class="plus-sign">+</span>
                        <span>Add Item</span>
                    </div>
                    <div class="add-btn solid" onclick="hideInputBox(0)">
                        <span>Save Item</span>
                    </div>
                </div>
                <div class="add-container">
                    <div class="add-item" contenteditable="true"></div>
                </div> {% endcomment %}
            </li>
            <!-- Doing Column -->
            <li class="task-column doing-column">
                <span class="header">
                    <h1>В процессе</h1>
                </span>
                <!-- Doing Content -->
                <div id="doing-content">
                    <ul id="doing-list"></ul>
                </div>
                <!-- Add Button Group -->
                {% comment %} <div class="add-btn-group">
                    <div class="add-btn" onclick="showInputBox(1)">
                        <span class="plus-sign">+</span>
                        <span>Add Item</span>
                    </div>
                    <div class="add-btn solid" onclick="hideInputBox(1)">
                        <span>Save Item</span>
                    </div>
                </div>
                <div class="add-container">
                    <div class="add-item" contenteditable="true"></div>
                </div> {% endcomment %}
            </li>
            <!-- Done Column -->
            <li class="task-column done-column">
                <span class="header">
                    <h1>Выполнено</h1>
                </span>
                <!-- Done Content -->
                <div id="done-content">
                    <ul id="done-list"></ul>
                </div>
                <!-- Add Button Group -->
                {% comment %} <div class="add-btn-group">
                    <div class="add-btn" onclick="showInputBox(2)">
                        <span class="plus-sign">+</span>
                        <span>Add Item</span>
                    </div>
                    <div class="add-btn solid" onclick="hideInputBox(2)">
                        <span>Save Item</span>
                    </div>
                </div>
                <div class="add-container">
                    <div class="add-item" contenteditable="true"></div>
                </div> {% endcomment %}
            </li>
            <!-- On Hold Column -->
            <li class="task-column on-hold-column">
                <span class="header">
                    <h1>На паузе</h1>
                </span>
                <!-- On Hold Content -->
                <div id="on-hold-content">
                    <ul id="on-hold-list"></ul>
                </div>
                <!-- Add Button Group -->
                {% comment %} <div class="add-btn-group">
                    <div class="add-btn" onclick="showInputBox(3)">
                        <span class="plus-sign">+</span>
                        <span>Add Item</span>
                    </div>
                    <div class="add-btn solid" onclick="hideInputBox(3)">
                        <span>Save Item</span>
                    </div>
                </div>
                <div class="add-container">
                    <div class="add-item" contenteditable="true"></div>
                </div> {% endcomment %}
            </li>
        </ul>
    </div>
    
    <!-- Модальное окно --> 
    <div class="modal fade" id="taskModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="modalbody">
                    <div class="mb-3">
                        <label for= "taskDescription" class="form-label">Описание задачи</label>
                        <span class="form-control" id = "taskDescription"></span>
                    </div> 
                    <div class="mb-3">
                        <label for="startDate" class="form-label">Дата начала</label>
                        <input type="datetime-local" class="form-control" id="startDate" disabled>
                    </div>
                    <div class="mb-3">
                        <label for="endDate" class="form-label">Дата окончания</label>
                        <input type="datetime-local" class="form-control" id="endDate" disabled>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}

{% block script %}
<script>
    var backlogTasks = JSON.parse('{{ tasks.backlog|safe }}');
    var progressTasks = JSON.parse('{{ tasks.progress|safe }}');
    var completeTasks = JSON.parse('{{ tasks.complete|safe }}');
    var onHoldTasks = JSON.parse('{{ tasks.onHold|safe }}');
</script>
{% endblock script %}
